2025-10-28 03:44:58.817 | INFO     | fullon_orm.uvloop_integration | 64 | uvloop event loop policy successfully installed
2025-10-28 03:44:59.092 | INFO     | fullon_exchange.queue.exchange_queue | 101 | ‚úÖ Patched asyncio.run() at module import for automatic clean shutdown
2025-10-28 03:44:59.146 | INFO     | demo_data | 211 | Creating dual test databases: orm=fullon2_test_x24gwumo, ohlcv=fullon2_test_x24gwumo_ohlcv
2025-10-28 03:44:59.146 | INFO     | demo_data | 93 | Creating isolated test database: fullon2_test_x24gwumo
2025-10-28 03:44:59.147 | INFO     | fullon_orm.uvloop_integration | 64 | uvloop event loop policy successfully installed
2025-10-28 03:44:59.398 | INFO     | demo_data | 132 | Test database created successfully: fullon2_test_x24gwumo
2025-10-28 03:44:59.402 | INFO     | demo_data | 93 | Creating isolated test database: fullon2_test_x24gwumo_ohlcv
2025-10-28 03:44:59.402 | INFO     | fullon_orm.uvloop_integration | 64 | uvloop event loop policy successfully installed
2025-10-28 03:44:59.511 | INFO     | demo_data | 132 | Test database created successfully: fullon2_test_x24gwumo_ohlcv
2025-10-28 03:44:59.515 | INFO     | demo_data | 219 | Dual test databases created: orm=fullon2_test_x24gwumo, ohlcv=fullon2_test_x24gwumo_ohlcv
2025-10-28 03:44:59.516 | INFO     | fullon_orm.uvloop_integration | 64 | uvloop event loop policy successfully installed
2025-10-28 03:44:59.589 | INFO     | demo_data | 310 | Starting demo data installation (matching fullon_orm)
2025-10-28 03:44:59.678 | INFO     | fullon_orm.repositories.exchange | 394 | Created new category exchange: kraken
2025-10-28 03:44:59.688 | INFO     | fullon_orm.repositories.exchange | 394 | Created new category exchange: bitmex
2025-10-28 03:44:59.695 | INFO     | fullon_orm.repositories.exchange | 394 | Created new category exchange: hyperliquid
2025-10-28 03:44:59.720 | INFO     | demo_data | 347 | Demo data installation completed successfully
2025-10-28 03:44:59.720 | INFO     | __main__ | 70 | Demo data installed successfully
2025-10-28 03:44:59.723 | INFO     | __main__ | 92 | Loaded symbol symbol=BTC/USDC:USDC exchange=hyperliquid
2025-10-28 03:44:59.724 | INFO     | fullon_ohlcv_service.utils.add_symbols | 64 | Starting initialization of all symbols 
2025-10-28 03:44:59.724 | INFO     | fullon_ohlcv_service.utils.add_symbols | 75 | Found 1 symbols to initialize
2025-10-28 03:44:59.724 | INFO     | fullon_ohlcv_service.utils.add_symbols | 31 | Initializing symbol hyperliquid:BTC/USDC:USDC'
2025-10-28 03:44:59.854 | INFO     | fullon_ohlcv_service.utils.add_symbols | 37 | Successfully initialized symbol hyperliquid:BTC/USDC:USDC
2025-10-28 03:44:59.854 | INFO     | fullon_ohlcv_service.utils.add_symbols | 97 | Symbol initialization complete: 1/1 successful
2025-10-28 03:44:59.854 | INFO     | fullon_ohlcv_service.daemon | 171 | Starting two-phase collection for single symbol symbol=BTC/USDC:USDC exchange=hyperliquid
2025-10-28 03:44:59.854 | INFO     | fullon_ohlcv_service.daemon | 180 | Phase 1: Starting historic collection
2025-10-28 03:44:59.860 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 189 | Starting historical collection for exchange exchange=hyperliquid symbol_count=1
2025-10-28 03:44:59.861 | INFO     | fullon_exchange.queue.exchange_queue | 423 | ExchangeQueue factory initialized with auto-shutdown
2025-10-28 03:45:00.310 | INFO     | fullon_exchange.rest.base_interface | 79 | Initialized hyperliquid REST base interface
2025-10-28 03:45:00.311 | INFO     | fullon_exchange.rest.exposed_interface | 67 | Initialized hyperliquid exposed REST interface
2025-10-28 03:45:00.311 | INFO     | hyperliquid_rest_adapter | 56 | Initialized Hyperliquid REST adapter with fullon_orm support
2025-10-28 03:45:00.311 | INFO     | fullon_exchange.rest.interface | 111 | Created REST handler for hyperliquid
2025-10-28 03:45:00.311 | INFO     | fullon_exchange.queue.exchange_queue | 594 | Connecting REST handler for hyperliquid...
2025-10-28 03:45:00.311 | INFO     | fullon_exchange.rest.base_interface | 324 | Connecting to exchange
2025-10-28 03:45:02.621 | INFO     | fullon_exchange.rest.base_interface | 389 | Loaded 449 markets
2025-10-28 03:45:02.622 | INFO     | fullon_exchange.rest.base_interface | 336 | Successfully connected to exchange
2025-10-28 03:45:02.622 | INFO     | fullon_exchange.queue.exchange_queue | 596 | Connected REST handler for hyperliquid
2025-10-28 03:45:02.623 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 215 | Exchange supports native OHLCV - proceeding with collection exchange=hyperliquid symbol_count=1
2025-10-28 03:45:02.624 | INFO     | fullon_cache.event_loop | 134 | Event loop configured: uvloop
2025-10-28 03:45:02.625 | INFO     | fullon_cache.connection | 121 | uvloop configured for optimal Redis performance
2025-10-28 03:45:02.634 | INFO     | fullon_ohlcv_service.trade.historic_collector | 190 | Starting historical collection for exchange exchange=hyperliquid symbol_count=1
2025-10-28 03:45:02.635 | INFO     | fullon_ohlcv_service.trade.historic_collector | 215 | Exchange has native OHLCV support - skipping trade collection exchange=hyperliquid symbol_count=1
2025-10-28 03:45:03.715 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 352 | Retrieved 1000 candles for BTC/USDC:USDC:hyperliquid from 2024-06-15 03:45:02 to 2025-10-25 04:53:00. 255123 seconds (3.0 days) left
2025-10-28 03:45:04.815 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 352 | Retrieved 1000 candles for BTC/USDC:USDC:hyperliquid from 2025-10-25 04:53:01 to 2025-10-25 21:33:00. 195123 seconds (2.3 days) left
2025-10-28 03:45:05.900 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 352 | Retrieved 1000 candles for BTC/USDC:USDC:hyperliquid from 2025-10-25 21:33:01 to 2025-10-26 14:13:00. 135123 seconds (1.6 days) left
2025-10-28 03:45:06.825 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 352 | Retrieved 1000 candles for BTC/USDC:USDC:hyperliquid from 2025-10-26 14:13:01 to 2025-10-27 06:53:00. 75123 seconds (20.9 hours) left
2025-10-28 03:45:07.601 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 352 | Retrieved 1000 candles for BTC/USDC:USDC:hyperliquid from 2025-10-27 06:53:01 to 2025-10-27 23:33:00. 15123 seconds (4.2 hours) left
2025-10-28 03:45:08.077 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 352 | Retrieved 251 candles for BTC/USDC:USDC:hyperliquid from 2025-10-27 23:33:01 to 2025-10-28 03:44:00. 63 seconds (1.0 minutes) left
2025-10-28 03:45:08.400 | INFO     | fullon_ohlcv_service.ohlcv.historic_collector | 241 | Historical collection completed for symbol symbol=hyperliquid:BTC/USDC:USDC candles_collected=5251
2025-10-28 03:45:08.400 | INFO     | fullon_ohlcv_service.daemon | 188 | Phase 1: Historic collection completed
2025-10-28 03:45:08.401 | INFO     | fullon_ohlcv_service.daemon | 197 | Phase 2: Starting live streaming
2025-10-28 03:45:08.407 | INFO     | fullon_ohlcv_service.daemon | 211 | Starting live collectors for symbol symbol=BTC/USDC:USDC
2025-10-28 03:45:08.410 | INFO     | fullon_ohlcv_service.ohlcv.live_collector | 107 | Starting WebSocket for exchange exchange=hyperliquid symbol_count=1
2025-10-28 03:45:08.662 | INFO     | fullon_exchange.websocket.base_interface | 86 | Initialized hyperliquid WebSocket base interface
2025-10-28 03:45:08.663 | INFO     | fullon_exchange.websocket.exposed_interface | 136 | Initialized hyperliquid exposed WebSocket interface
2025-10-28 03:45:08.663 | INFO     | fullon_exchange.websocket.interface | 111 | Created WebSocket handler for hyperliquid
2025-10-28 03:45:08.663 | INFO     | fullon_exchange.queue.exchange_queue | 720 | Connecting WebSocket handler for hyperliquid...
2025-10-28 03:45:08.663 | INFO     | fullon_exchange.websocket.base_interface | 359 | Connecting WebSocket to exchange
2025-10-28 03:45:08.664 | INFO     | fullon_exchange.websocket.base_interface | 249 | üåç Direct connection - no proxy environment variables found
2025-10-28 03:45:12.188 | INFO     | fullon_exchange.websocket.base_interface | 452 | WebSocket connection validated successfully
2025-10-28 03:45:12.189 | INFO     | fullon_exchange.websocket.base_interface | 729 | Detected WebSocket capabilities: {{'ticker': True, 'trades': True, 'order_book': True, 'balance': False, 'orders': True, 'positions': True, 'ohlcv': True, 'my_trades': True}}
2025-10-28 03:45:12.189 | INFO     | fullon_exchange.websocket.base_interface | 377 | WebSocket connected successfully in 3.53s. Capabilities: {{'ticker': True, 'trades': True, 'order_book': True, 'balance': False, 'orders': True, 'positions': True, 'ohlcv': True, 'my_trades': True}}
2025-10-28 03:45:12.189 | INFO     | fullon_exchange.queue.exchange_queue | 722 | Connected WebSocket handler for hyperliquid
2025-10-28 03:45:12.189 | INFO     | fullon_ohlcv_service.ohlcv.live_collector | 132 | Exchange supports native OHLCV - proceeding with subscription exchange=hyperliquid symbol_count=1
2025-10-28 03:45:12.193 | INFO     | fullon_exchange.websocket.exposed_interface | 608 | Started OHLCV subscription for BTC/USDC:USDC (1m)
2025-10-28 03:45:12.194 | INFO     | hyperliquid_websocket | 136 | Created subscription: subscribe_ohlcv (1761623112.1940992)
2025-10-28 03:45:12.194 | INFO     | fullon_ohlcv_service.ohlcv.live_collector | 166 | Subscription result exchange=hyperliquid symbol=BTC/USDC:USDC success=True
2025-10-28 03:45:12.194 | INFO     | fullon_ohlcv_service.ohlcv.live_collector | 183 | Finished subscribing to OHLCV exchange=hyperliquid symbol_count=1
2025-10-28 03:45:12.198 | INFO     | fullon_ohlcv_service.trade.live_collector | 115 | Starting WebSocket for exchange exchange=hyperliquid symbol_count=1
2025-10-28 03:45:12.200 | INFO     | fullon_exchange.websocket.exposed_interface | 420 | Started trades subscription for BTC/USDC:USDC
2025-10-28 03:45:12.200 | INFO     | hyperliquid_websocket | 136 | Created subscription: subscribe_trades (1761623112.200499)
2025-10-28 03:45:12.200 | INFO     | fullon_ohlcv_service.trade.live_collector | 154 | Subscription result exchange=hyperliquid symbol=BTC/USDC:USDC success=True
2025-10-28 03:45:12.200 | INFO     | fullon_ohlcv_service.trade.batcher | 52 | GlobalTradeBatcher initialized
2025-10-28 03:45:12.200 | INFO     | fullon_ohlcv_service.trade.batcher | 105 | Batch processing started
2025-10-28 03:45:12.206 | INFO     | fullon_ohlcv_service.trade.live_collector | 173 | Finished subscribing to trades exchange=hyperliquid symbol_count=1
2025-10-28 03:45:25.936 | INFO     | demo_data | 233 | Dropping dual test databases: orm=fullon2_test_x24gwumo, ohlcv=fullon2_test_x24gwumo_ohlcv
2025-10-28 03:45:25.937 | INFO     | fullon_orm.uvloop_integration | 64 | uvloop event loop policy successfully installed
2025-10-28 03:45:26.165 | INFO     | fullon_orm.uvloop_integration | 64 | uvloop event loop policy successfully installed
2025-10-28 03:45:26.187 | INFO     | demo_data | 240 | Dual test databases dropped: orm=fullon2_test_x24gwumo, ohlcv=fullon2_test_x24gwumo_ohlcv
2025-10-28 03:45:26.187 | INFO     | fullon_exchange.queue.exchange_queue | 73 | üìã Patched asyncio.run() finally block - initiating cleanup
2025-10-28 03:45:26.187 | INFO     | fullon_exchange.queue.exchange_queue | 80 | üõ°Ô∏è Calling shutdown_factory() with shield protection
2025-10-28 03:45:26.187 | INFO     | fullon_exchange.queue.exchange_queue | 251 | üîÑ Starting factory shutdown...
2025-10-28 03:45:26.187 | INFO     | fullon_exchange.websocket.exposed_interface | 331 | Disconnecting WebSocket interface
2025-10-28 03:45:26.665 | INFO     | fullon_exchange.websocket.base_interface | 560 | WebSocket disconnected (final cleanup)
2025-10-28 03:45:26.666 | INFO     | hyperliquid_websocket | 176 | Disconnected from Hyperliquid WebSocket (final cleanup)
2025-10-28 03:45:26.666 | INFO     | fullon_exchange.queue.exchange_queue | 299 | Disconnected all WebSocket handlers
2025-10-28 03:45:26.869 | INFO     | fullon_exchange.rest.base_interface | 366 | Disconnected from exchange
2025-10-28 03:45:26.870 | INFO     | fullon_exchange.queue.exchange_queue | 344 | Disconnected all REST handlers
2025-10-28 03:45:27.071 | INFO     | fullon_exchange.queue.exchange_queue | 82 | ‚úÖ Shutdown_factory() completed from patched run
